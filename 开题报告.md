# 面向混合存储的弹性压缩存储机制研究

# 基于数据温度的存储优化研究

> 1、做的问题是什么
>
> 答：首先识别数据冷热；然后根据数据温度和工作负载利用率对数据的压缩方式进行分配与及时的调整；最后为不同种类的数据选择最适合的存储介质进行存放，来实现存储管理与优化，进一步平衡存储空间与系统性能之间的关系；
>
> 2、做的意义是什么/动机
>
> 答：
>
> 国内外现状
>
> 做的大致思路/方案【与已有方法的区别】
>
> 初步实验结果

## 一、选题依据

**1.1研究背景、目的和意义**

>  简要说明本论文相关内容的技术术语、历史、课题来源等背景。
>
>  针对当前发展中存在的相关问题，说明研究的动机和目的。
>
>  说明论文研究取得成果的理论价值或实际应用价值。
>
>  此部分正文根据需要引用参考文献。



***绪论--背景；***



> 在爆炸数据的背景下，为数据选择恰当的数据压缩算法是实现可持续存储优化的关键。但是由于各种算法的各方面的表现不同，所适应的场景也有很大区别。另外在不同系统环境因素的影响下，所适应的压缩算法也有可能不同，致使数据压缩算法选择困难。

***针对当前发展中存在的相关问题，说明研究的动机和目的***

**问题引出【对比图】**

不同体量下的数据存储分别在各种压缩算法的占用空间与批量访问时间对比图

不同资源利用率下的数据批量访问的吞吐量的情况对比图【不同cpu利用率下，不同io带宽下，不同cpu、io混合下的表现】-- **拿两种算法对比，cpu使用率高的时候，不压缩快于lz4；io使用高的时候或许不压缩慢于lz4；**

**说明动机和目的**

介绍一些纠删码和数据压缩的对比。



**1.2国内外研究现状**

>  分几方面介绍选题相关的国内外理论、技术进展和现状。
>
> 根据情况增加子标题。
>
> 可附录更详细的综述报告作为开题报告附件。
>
> 此部分正文必须规范引用参考文献。



**1.3当前存在的主要问题**

> 分要点说明当前存在的主要问题，特别是拟解决的问题，并分析可能的解决方案。
>
> **(1)问题描述**。解释该问题，分析可能的解决方法。



## 二、研究目标与主要研究内容

**2.1研究目标**

> 针对问题，简要说明本论文研究的学术目标。

通过根据不同数据温度与资源利用的情况下，为每种数据选择合适的压缩算法。并且实时对数据的压缩算法进行及时调整来实现大数据存储的自动化管理。

**说明要研究的大览：**根据数据访问频度什么什么...构建了一种冷热分离的方式。此外在冷热分离的基础上根据文件存储系统的读写流程以及存储节点的资源利用率情况提出了一种兼顾压缩算法特点、数据温度、资源利用率的弹性压缩算法选择与调整算法。具体研究如下。

**2.2主要研究内容**

> 分要点、有层次地说明要实现研究目标所需要完成的研究内容。一般有3-4项研究任务。
>
> **(1)内容的描述**。解释该内容
>
> 1、提出并实现一种基于数据热度的[自适应???]压缩算法分配机制
>
> - 数据冷温热数据识别
>   - 实现的是别人的一种双队列的方式
> - 根据资源利用率，数据访问模式负载【读写比例】，数据热度的数据压缩算法分配方式
>   - 根据资源利用率估计的压缩，解压缩效率。取样压缩预估的压缩率估计--**没有东西。【会有消耗--对一个文件会使用所有压缩算法来测试压缩率。。。】**
>   - 根据读写模式，数据热度的权重分配数据压缩算法
>   - **是否能压缩，分配算法的选择，访问时间相差较小，则用存储减少最多的。。类似这种。。。访问时间差和存储减少量之比来决定？**
>   - ***热度自适应划分？？？---  自适应权重分配【不是固定的分配，】？？？***
>   - ***数据大小？***
>   - 块压缩-采样压缩预测数据块的
>
> 2、提出并实现一种面向利益最大化的实时压缩算法调整与数据迁移策略？？【调整了某个数据的压缩算法之后，在混合存储中要考虑一下数据放置的位置？？？】【压缩更换策略、压缩算法调整策略】
>
> -- 有什么问题引出来的？**<font color="red">首先，数据的热度会发生变化，因此为了自动化并且及时的适应数据的热度，需要对热度有变化的数据进行压缩算法的改变。为了筛选热度频繁变化的数据，避免不必要的更换压缩，要设置个更换条件来限制一下。然后，上面是基于更换压缩算法带来的利益和代价对比来判断是否进行更换的，但是更换压缩算法的效率与cpu，io以及可用内存有关，</font>**

> - 动态更换压缩算法的最大化利益公式思想【升温和降温策略】--更换条件1
>   - 目前暂使：升温--访问频度*节省时间   降温--固定阈值【可以写的有计算更换压缩算法代价的公式。】
> - **<font color="red">根据动态变化的环境因素的自适应调整策略；-- 都没有什么看法，得说出来为什么会出现这个问题><...</font>**
>   - **根据负载程度/资源利用率调整最大化利益更换压缩算法的更换条件的阈值？--  更换条件2【和上一个点的连接--】**
>     - 兼顾资源/负载的更换机制？
>   - ***根据资源利用率的冷热划分比例阈值的调整，动态划分冷热区域大小？？？【这两个理论上一种？】***io利用率较高的时候，可以将未压缩或者压缩较轻的数据转变一下压缩算法，这就可以用冷热划分的阈值调整来弄？？？
>   - 预测负载？动态阈值？模糊动态阈值？还是没想清楚。。。
>
> 要想好为什么要调节阈值？预测cpu的使用率如果过高的话，读取压缩数据的时间就会增加，那么如果减少压缩的数据的话，或许是有可能降低读取时间的。这里或许就会用到未来访问概率的预测了。如果更换压缩的数据的话那就更换未来访问概率最大的，未来访问概率设置一个阈值，动态的来调节这一个阈值来进一步减少访问时间。
>
> **一个阈值范围？根据情况调整确切的阈值？？**

**（1）构建一种轻量级冷热数据识别机制**

为了充分利用不同压缩算法的优势特性，需要为不同热度的数据分配不同的压缩算法；这里首先以zipf定律和信息生命周期(Information Lifecycle Management ILM)理论为基础，利用数据的访问模式，通过对数据的访问频度、时间访问特性、数据大小等方面的综合考虑。利用数据结构与实时热度衰减调整策略建立实时冷温热数据识别机制来将数据划分为冷温热三种数据。基于数据结构的冷温热数据划分方式能够实时的利用数据热度对数据进行划分，提高命中率，并为后面对数据分配压缩方式奠定了基础，为实时压缩方法调整提供了可靠的待更新数据集合。

**（2）提出并实现一种压缩算法分配机制研究【数据温度/访问模式/系统资源利用率】**

> 还是说把前两条合并成一个
>
> 不同资源利用率下，适合的压缩方法不同；不同热度下，适合的压缩方法不同；

不同的压缩算法有着不同的特点和应用场景。目前并不存在能有一个压缩算法能够适应所有的场景。因此为了有效缓解存储压力并提升系统性能使两者达到平衡，这里需要结合存储系统的资源利用率、数据热度以及不同压缩算法的特性来为数据分配相对应的压缩算法。【先说明一下资源利用率[cpu io mem]的影响】【然后说明为不同热度的数据分配压缩算法的好处能达到的目标】



数据中总是存在着不可压缩的数据。通过数据取样进行测试的方式预估数据的可压缩性，在确定过数据的可压缩性之后，综合考虑数据的访问模式，为不同的数据自适应分配最合适的压缩算法；

数据的访问模式和热度不同，对于压缩算法的偏好自然也会不同【例如：对于热数据来说更偏向于访问性能更好的算法；而对于冷数据来说，则更偏向于压缩性能更好的算法】。压缩算法的性能评估主要由压缩率、压缩时间以及解压缩时间三种因素来进行评估。数据对于压缩算法性能的偏好，主要体现在这三种因素的权重上。这里会结合数据的访问模式和热度为数据自适应的分配这三者的权重，通过三者的结合选出最合适的压缩算法。

影响压缩性能的因素主要涉及cpu、io以及内存的占用率。不同的系统资源利用率下，同一个目标下的最合适的压缩算法可能会有所不同，因此需要结合cpu、io以及内存的占用率来预估出在当前资源利用率下每种压缩算法在压缩速度和解压缩速度上的变化，来进一步优化自适应分配压缩算法的策略/来更精准的唯每个数据分配当前情况下最合适的压缩算法。

**（3）提出并实现一种数据压缩算法实时调整策略研究【更换时机】**

> 不能热度一变化就进行算法更换。需要考虑更换代价与利益、当前负载情况。【更换条件1&2】减少不必要的更换压缩算法的操作。

根据信息生命周期管理(ILM)，曾经经常被访问的数据的数据热度会随着时间的延长逐渐降低/冷数据可能也会升温变为热数据。在这种不停变化的访问模式和数据热度中，需要为有些数据的压缩算法进行实时的更换，来提升系统性能。

根据上述研究内容来说，数据的热度不断变化，不同热度的数据要使用的压缩算法也有所不同。当数据热度变化的时候，需要对数据进行压缩算法更换。那么根据访问模式和系统负载情况选择数据更换压缩算法的时机尤为重要。既要准确的根据变化的数据热度进行压缩算法的调整也要根据系统资源的实时负载对数据的压缩算法进行调整。为了准确的抓住更换时机，同时也为了避免不必要的压缩算法更换，在这里提出一种面向利益最大化的数据压缩算法实时调整策略。根据这一策略实现实时弹性压缩调整策略，提升系统的总体存储性能和系统性能。

短时间内来回变化的说明



**（4）混合存储介质选择与迁移策略？**

## 三、拟解决关键问题及其研究方法

**3.1拟解决关键问题**

> 分要点说明实现研究目标要解决的关键问题，可以是研究内容中最重要部分，一般有1-2个。



**3.2采取的研究方法**

> 可对应研究内容，一一说明各部分研究方法。也可综合阐述共同性研究方法。



**3.3可能的创新**

> 分要点说明可能取得的1-2个创新结果，例如得到一种新的方法等（这里非是指第四部分的成果指标）。



## 四、进度安排与预期成果

**4.1预期成果**

说明学术成果指标，一般包括学术论文、专利、产品系统、软件登记等。

**4.2进度安排**

时间段  工作内容  预期成果



【哪些情况下的调整策略--怎么调整的？？】

**面向利益最大化的压缩算法动态调整策略**

正常情况下的压缩算法的调整【资源感知下的阈值调整，】，，压缩算法与数据放置结合？？

> 1、需要动态更换的最大化利益公式思想
>
> 2、根据资源利用率的最大化利益阈值调整
>
> 3、根据资源利用率的冷热划分阈值的调整，动态划分冷热区域大小？？？

**<font color="red">那怎么把这些结合起来呢</font>**

tiered storage system

storage system dynamic workload



> 存储系统及其OS组件旨在适应各种应用和动态工作负载  --  Ibrahim Umit Akgun, Ali Selman Aydin, Aadil Shaikh, Lukas Velikov, and Erez Zadok. 2021. **A Machine Learning Framework to Improve Storage System Performance.** In <i>Proceedings of the 13th ACM Workshop on Hot Topics in Storage and File Systems</i> (<i>HotStorage '21</i>). Association for Computing Machinery, New York, NY, USA, 94–102. DOI:https://doi.org/10.1145/3465332.3470875
